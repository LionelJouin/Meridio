syntax = "proto3";

package target;
option go_package = "github.com/nordix/meridio/api/target";
import "google/protobuf/empty.proto";

service Ambassador {
    rpc Connect(Conduit) returns (google.protobuf.Empty) {}
    rpc Disconnect(Conduit) returns (google.protobuf.Empty) {}
    rpc Request(Stream) returns (google.protobuf.Empty) {}
    rpc Close(Stream) returns (google.protobuf.Empty) {}
}

message Trench {
    string name = 1;
    string namespace = 2;
}

message Conduit {
    string networkServiceName = 1;
    Trench trench = 2;
}

message Stream {
    Conduit conduit = 1;
}